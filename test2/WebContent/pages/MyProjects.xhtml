<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="/pages/userCreation.xhtml">


	<h:head>
		<title>Projects</title>
	</h:head>
	<ui:define name="title">
          Projects
        </ui:define>

	<ui:define name="form">

		<h:form id="form">

			<p:growl id="msgs" showDetail="true" />


			<p:dataTable id="cars" var="car" value="#{project.list}"
				widgetVar="carsTable"
				emptyMessage="No cars found with given criteria"
				filteredValue="#{project.filteredProjects}"
				paginatorTemplate="  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters} "
				paginator="true" rowsPerPageTemplate="1,2,3" rows="2"
				style="margin-bottom:20px">

<f:facet name="{Exporters}">
 <h:commandLink  ajax="false">
                <p:graphicImage name="/demo/images/excel.png" width="24"/>
                <p:dataExporter type="xls" target="cars" fileName="cars" />
            </h:commandLink>
 
            <h:commandLink  ajax="false">
                <p:graphicImage name="/demo/images/pdf.png" width="24"/>
                <p:dataExporter type="pdf" target="cars" fileName="cars"/>
            </h:commandLink>
</f:facet>

				<f:facet name="header">

					<p:outputPanel>
						<p:commandButton id="toggler" type="button" value="Columns"
							style="float:left" icon="ui-icon-calculator" />
						<p:columnToggler  datasource="cars" trigger="toggler" />

						
					</p:outputPanel>
					
					

				</f:facet>
				<p:column   exportable="" style="font-size:10px;"  filterBy="#{car.id}" headerText="Référence DA"
					filterMatchMode="contains">
					<h:outputText value="#{car.id}" />
				</p:column>
				<p:column  style="font-size:10px;" headerText="Project" filterBy="#{car.libélé}"
					filterMatchMode="contains">

					<h:outputText value="#{car.libélé}" />
				</p:column>
				<p:column style="font-size:10px;" headerText="Sponsor" filterBy="#{car.nomSponsor}"
					filterMatchMode="contains">
					<h:outputText value="#{car.nomSponsor}" />
				</p:column>
				<p:column style="font-size:10px;" headerText="Chef de projet" filterBy="#{car.nomChefP}"
					filterMatchMode="contains">
					<h:outputText value="#{car.nomChefP}" />
				</p:column>
				<p:column style="font-size:10px;" headerText="Chef de projet MOA" filterBy="#{car.nomMOA}"
					filterMatchMode="contains">
					<h:outputText value="#{car.nomMOA}" />
				</p:column>
				<p:column style="font-size:10px;" headerText="" filterBy="#{car.p}"
					filterMatchMode="in">
					<f:facet name="filter">
						<p:selectCheckboxMenu label="priorité"
							onchange="PF('carsTable').filter()" panelStyle="width:155px"
							scrollHeight="50">
							<f:selectItems value="#{project.priorité}" />
						</p:selectCheckboxMenu>
					</f:facet>
					<h:outputText value="#{car.p}" />
				</p:column>
				<p:column style="font-size:10px;" headerText="" filterBy="#{car.e}"
					filterMatchMode="in">
					<f:facet name="filter">
						<p:selectCheckboxMenu label="enjeux"
							onchange="PF('carsTable').filter()" panelStyle="width:170px"
							scrollHeight="60">
							<f:selectItems value="#{project.enjeux}" />
						</p:selectCheckboxMenu>
					</f:facet>
					<h:outputText value="#{car.e}" />
				</p:column>
				<p:column headerText="Reliquat" filterBy="#{car.r}"
					filterMatchMode="in">
					<f:facet name="filter">
						<p:selectCheckboxMenu label="reliquat"
							onchange="PF('carsTable').filter()" panelStyle="width:170px"
							scrollHeight="50">
							<f:selectItems value="#{project.reliquat}" />
						</p:selectCheckboxMenu>
					</f:facet>
					<h:outputText value="#{car.r}" />
				</p:column>
				<p:column headerText="Statut" filterBy="#{car.s}"
					filterMatchMode="in">
					<f:facet name="filter">
						<p:selectCheckboxMenu label="statut"
							onchange="PF('carsTable').filter()" panelStyle="width:170px"
							scrollHeight="50">
							<f:selectItems value="#{project.statut}" />
						</p:selectCheckboxMenu>
					</f:facet>
					<h:outputText value="#{car.s}" />
				</p:column>
				<p:column headerText="LancéMétier" filterBy="#{car.lancerMetier}"
					filterMatchMode="contains">
					<h:outputText value="#{car.lancerMetier}" />
				</p:column>
				<p:column headerText="LocalCentral" filterBy="#{car.lc}"
					filterMatchMode="contains">
					<h:outputText value="#{car.lc}" />
				</p:column>



				<p:column filterBy="#{car.entité}" headerText="Entité"
					filterMatchMode="in">
					<f:facet name="filter">
						<p:selectCheckboxMenu label="Entités"
							onchange="PF('carsTable').filter()" panelStyle="width:125px"
							scrollHeight="150">
							<f:selectItems value="#{project.entités}" />
						</p:selectCheckboxMenu>
					</f:facet>
					<h:outputText value="#{car.entité}" />
				</p:column>

				<p:column filterBy="#{car.da}" headerText="Type DA"
					filterMatchMode="in">
					<f:facet name="filter">
						<p:selectCheckboxMenu label="Type DA"
							onchange="PF('carsTable').filter()" panelStyle="width:125px"
							scrollHeight="150">
							<f:selectItems value="#{project.type_da}" />
						</p:selectCheckboxMenu>
					</f:facet>
					<h:outputText value="#{car.da}" />
				</p:column>





			</p:dataTable>
			<h3>Export Page Data Only</h3>
    <h:commandLink  ajax="false">
        <p:graphicImage name="/demo/images/excel.png" />
        <p:dataExporter type="xls" target="cars" fileName="cars" pageOnly="true"/>
    </h:commandLink>
 
    <h:commandLink  ajax="false">
        <p:graphicImage name="/demo/images/pdf.png" />
        <p:dataExporter type="pdf" target="cars" fileName="cars" pageOnly="true" />
    </h:commandLink>
		</h:form>



	</ui:define>
</ui:composition>